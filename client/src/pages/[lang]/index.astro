---
import Layout from "../../layouts/Layout.astro";
import Slider from "../../components/Slider.astro";
import Awards from "../../components/Awards.astro";
import { collectionCards } from "../../constants/collections";
import { t, type Language } from "../../constants/translations";

export function getStaticPaths() {
    return [
        { params: { lang: "en" } },
        { params: { lang: "lv" } },
        { params: { lang: "ru" } },
    ];
}
const { lang } = Astro.params;
const currentLang = lang as Language;

// SEO data by language
const seoData = {
    lv: {
        title: "Eliza-K - Ekskluzīva premium mēbeles Latvijā | Rīga",
        description:
            "Eliza-K - ekskluzīvu premium mēbeļu ražotājs Latvijā un Rīgā. Kolekcijas Sophisticated Living, BBold, Basic. Kvalitatīvas mēbeles, individuāls dizains, matračus, tekstils.",
        keywords:
            "premium mēbeles, ekskluzīvas mēbeles, mēbeles Latvija, mēbeles Rīga, Eliza-K, kvalitatīvas mēbeles, dizaina mēbeles, matraču, tekstils",
    },
    en: {
        title: "Eliza-K - Exclusive Premium Furniture in Latvia | Riga",
        description:
            "Eliza-K - manufacturer of exclusive premium furniture in Latvia and Riga. Collections Sophisticated Living, BBold, Basic. Quality furniture, individual design, mattresses, textiles.",
        keywords:
            "premium furniture, exclusive furniture, furniture Latvia, furniture Riga, Eliza-K, quality furniture, designer furniture, mattresses, textiles",
    },
    ru: {
        title: "Eliza-K - Эксклюзивная премиум мебель в Латвии | Рига",
        description:
            "Eliza-K - производитель эксклюзивной премиум мебели в Латвии и Риге. Коллекции Sophisticated Living, BBold, Basic. Качественная мебель, индивидуальный дизайн, матрасы, текстиль.",
        keywords:
            "премиум мебель, эксклюзивная мебель, мебель Латвия, мебель Рига, Eliza-K, качественная мебель, дизайнерская мебель, матрасы, текстиль",
    },
};

const currentSeo = seoData[lang] || seoData.lv;
---

<Layout
    offset={false}
    title={currentSeo.title}
    description={currentSeo.description}
    keywords={currentSeo.keywords}
    url={`/${lang}`}
    image="/og-image-home.jpg"
>
    <Slider />
    <div class="cards">
        {
            collectionCards.map((card) => {
                const url =
                    typeof card.url === "function" ? card.url(lang) : card.url;
                const text = t(card.translationKey, currentLang);
                return (
                    <a
                        href={url}
                        rel={card.external ? "noopener noreferrer" : undefined}
                        target={card.external ? "_blank" : undefined}
                    >
                        <div class="card">
                            <div
                                class="bg-image"
                                style={`background-image: url(${card.image.src}); background-position: center; background-size: cover; background-repeat: no-repeat;`}
                            />
                            <span class="card-text">{text}</span>
                        </div>
                    </a>
                );
            })
        }
    </div>
    <Awards />
</Layout>
<style>
    .cards {
        margin-top: 1px;
        margin-bottom: 25px;
        display: grid;
        gap: 1px;
        grid-template-columns: 1fr 1fr 1fr;
        justify-content: center;
        width: 100%;
        @media screen and (max-width: 1024px) {
            grid-template-columns: 1fr;
        }
    }
    .card {
        position: relative;
        width: 100%;
        height: auto;
        aspect-ratio: 16/10;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .bg-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        filter: brightness(0.7); /* Darker image */
        z-index: 1;
        transition: 250ms;
        &:hover {
            filter: brightness(0.6); /* Darker image */
        }
    }
    .card-text {
        position: relative;
        z-index: 2;
        font-size: 20px;
        color: #ffffff;
        font-weight: bold;
    }
</style>
