---
import Layout from "../layouts/Layout.astro";

// Default root page - redirects to Latvian version
// This ensures SEO-friendly default language behavior

const defaultSeo = {
    title: "Eliza-K - Ekskluzīva premium mēbeles Latvijā | Rīga",
    description:
        "Eliza-K - ekskluzīvu premium mēbeļu ražotājs Latvijā un Rīgā. Kolekcijas Sophisticated Living, BBold, Basic. Kvalitatīvas mēbeles, individuāls dizains, matračus, tekstils.",
    keywords:
        "premium mēbeles, ekskluzīvas mēbeles, mēbeles Latvija, mēbeles Rīga, Eliza-K, kvalitatīvas mēbeles, dizaina mēbeles, matraču, tekstils",
};

// Browser-side redirect to preserve SEO
---

<Layout
    title={defaultSeo.title}
    description={defaultSeo.description}
    keywords={defaultSeo.keywords}
    url="/"
    image="/og-image-home.jpg"
>
    <script>
        // Client-side redirect to default language (Latvian)
        if (typeof window !== "undefined") {
            const userLang = navigator.language || navigator.languages[0];
            let redirectLang = "lv"; // Default to Latvian

            // Check if user prefers English or Russian
            if (userLang.startsWith("en")) {
                redirectLang = "en";
            } else if (userLang.startsWith("ru")) {
                redirectLang = "ru";
            }

            // Redirect to appropriate language version
            window.location.replace(`/${redirectLang}/`);
        }
    </script>

    <!-- Fallback content for users without JavaScript -->
    <div style="text-align: center; padding: 2rem;">
        <h1>Eliza-K</h1>
        <p>Premium mēbeles | Premium Furniture | Премиум мебель</p>
        <div
            style="display: flex; gap: 1rem; justify-content: center; margin-top: 1rem;"
        >
            <a
                href="/lv/"
                style="padding: 0.5rem 1rem; background: #333; color: white; text-decoration: none;"
                >Latviešu</a
            >
            <a
                href="/en/"
                style="padding: 0.5rem 1rem; background: #333; color: white; text-decoration: none;"
                >English</a
            >
            <a
                href="/ru/"
                style="padding: 0.5rem 1rem; background: #333; color: white; text-decoration: none;"
                >Русский</a
            >
        </div>
    </div>
</Layout>
