---
import { Image } from "astro:assets";
import Layout from "../../../layouts/Layout.astro";
import { horecaItems } from "../../../constants/horeca";
import { t, type Language } from "../../../constants/translations";

const { lang } = Astro.params;
const currentLang = lang as Language;

export function getStaticPaths() {
    return [
        { params: { lang: "en" } },
        { params: { lang: "lv" } },
        { params: { lang: "ru" } },
    ];
}

// SEO data by language
const seoData = {
    lv: {
        title: "HoReCa - Eliza-K | Mēbeles viesnīcām, restorāniem un kafejnīcām",
        description:
            "Eliza-K HoReCa risinājumi - profesionālas mēbeles viesnīcām, restorāniem un kafejnīcām. Kvalitatīvas komerciālas mēbeles, kas nodrošina komfortu un stilu jūsu biznesā.",
        keywords:
            "HoReCa mēbeles, viesnīcu mēbeles, restorānu mēbeles, kafejnīcu mēbeles, komerciālās mēbeles, profesionālās mēbeles, Eliza-K HoReCa",
    },
    en: {
        title: "HoReCa - Eliza-K | Furniture for Hotels, Restaurants and Cafes",
        description:
            "Eliza-K HoReCa solutions - professional furniture for hotels, restaurants and cafes. Quality commercial furniture that provides comfort and style for your business.",
        keywords:
            "HoReCa furniture, hotel furniture, restaurant furniture, cafe furniture, commercial furniture, professional furniture, Eliza-K HoReCa",
    },
    ru: {
        title: "HoReCa - Eliza-K | Мебель для отелей, ресторанов и кафе",
        description:
            "Решения HoReCa от Eliza-K - профессиональная мебель для отелей, ресторанов и кафе. Качественная коммерческая мебель, обеспечивающая комфорт и стиль для вашего бизнеса.",
        keywords:
            "мебель HoReCa, мебель для отелей, мебель для ресторанов, мебель для кафе, коммерческая мебель, профессиональная мебель, Eliza-K HoReCa",
    },
};

const currentSeo = seoData[lang] || seoData.lv;
---

<Layout
    offset={false}
    title={currentSeo.title}
    description={currentSeo.description}
    keywords={currentSeo.keywords}
    url={`/${lang}/horeca`}
    image="/og-image-horeca.jpg"
    type="website"
>
    <div class="collections">
        {
            horecaItems.map((item) => {
                const text = t(item.translationKey, currentLang);
                return (
                    <a
                        href={item.url}
                        class="collection-link"
                        target="_blank"
                        rel="noopener noreferrer"
                    >
                        <div class="-item">
                            <Image class="-img" alt={text} src={item.image} />
                            <span class="-text">{text}</span>
                        </div>
                    </a>
                );
            })
        }
    </div>
</Layout>

<style>
    .collections {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        width: 100%;
        gap: 0;
        padding: 0;
        margin: 0 auto;

        @media screen and (max-width: 1024px) {
            grid-template-columns: 1fr;
        }
    }

    .collection-link {
        display: block;
        text-decoration: none;
    }

    .-item {
        position: relative;
        width: 100%;
        height: 82vh;
        min-height: 500px;
        overflow: hidden;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: rgba(0, 0, 0, 0.9);

        @media screen and (max-width: 1024px) {
            height: auto;
            min-height: 250px;
        }

        &:hover .-img {
            opacity: 0.5;
            transform: scale(1.01);
            filter: grayscale(0.5);
        }
    }

    .-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0.85;
        filter: grayscale(0.3);
        transition:
            opacity 250ms linear,
            transform 250ms linear;

        @media screen and (max-width: 1024px) {
            height: 250px;
        }
    }

    .-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 75%;
        color: #ffffff;
        font-family: "Avenir", sans-serif;
        font-size: 48px;
        text-align: center;
        z-index: 1;

        @media screen and (max-width: 1024px) {
            font-size: 32px;
        }
    }
</style>
